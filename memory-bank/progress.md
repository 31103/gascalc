# Progress

## 現在のステータス

- リファクタリング計画のフェーズ7まで完了。主要な機能は動作するが、デザイン適用に問題あり。
- GitHub Pages のデモ版はリファクタリング前の状態。
- プロジェクト全体の見直し、無駄なファイル、コメント等の洗い出しタスクが完了。

## 実装済みの機能 (リファクタリング後)

- **データ入力:**
  - 日付時刻 (DDHHMM 形式、HHMM形式での日付省略可、初回HHMMは1日として処理)
    と流量 (L/min) の入力。
  - FiO2 モード有効時の FiO2 (%) 入力 (21-100)。
- **データ管理:**
  - 入力データのリスト表示。
  - 入力データの追加、修正、削除機能。
  - 全入力データのクリア機能。
- **計算:**
  - 入力データに基づき、日ごとの酸素使用量を自動計算・表示。
  - FiO2 モード有効時の酸素使用量計算（室内気使用時:
    `((FiO2 - 21) * 0.01 / 0.79 * Flow)`）。
  - FiO2 モードかつ室内気不使用モード有効時の酸素 (`FiO2 * 0.01 * Flow`)
    および窒素 (`(100 - FiO2) * 0.01 * Flow`) 使用量計算・表示。
- **設定:**
  - 設定モーダルによる FiO2 モードの有効/無効切り替え。
  - FiO2 モード有効時のみ、室内気不使用モードの有効/無効切り替え。
- **UI/UX:**
  - 計算結果（酸素量、窒素量）をクリップボードにコピーする機能。
  - ツールチップによる入力形式や設定項目の説明表示。
  - 基本的な入力値バリデーションとエラーメッセージ表示。
  - エンターキーによるフォーカス移動とデータ追加。

## 残っているタスク / 改善可能性

- **リファクタリング計画:**
  - Step 8: ドキュメント更新 (`README.md`, Memory Bank の systemPatterns,
    techContext)
  - Step 9: 完了処理
- **別タスク:** TailwindCSS のビルド問題調査とデザイン適用。
- **改善案:**
  - データの永続化 (例: LocalStorage)。
  - より詳細な入力バリデーション。
  - UI/UX のさらなる改善 (デザイン適用後)。
  - 単体テストの拡充 (DOM操作など)。

## 既知の問題 / 注意点

- **デザイン未適用:** TailwindCSS
  のビルドプロセスに問題があり、スタイルが適用されていない。
- 計算結果は理論値であり、実際の使用量とは異なる可能性がある。
- データはブラウザのメモリ上にのみ保存されるため、永続化されない。
